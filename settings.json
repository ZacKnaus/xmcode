{
   "version": "1.0.0",
   "settings": {
      "axes": {
         "axis_1": {
            "name": "axis_1",
            "alias": "x",
            "motor_type": "stepper",
            "drive_type": "leadscrew",
            "gearbox": "gearbox_1",
            "range_of_motion": {
               "min": 0,
               "max": 200,
               "enabled": true
            },
            "soft_limits": {
               "min": 10,
               "max": 190,
               "enabled": true
            },
            "homing_direction": "min",
            "homing_speed": 50,
            "limit_switches": {
               "min": "x_min_limit",
               "max": "x_max_limit"
            },
            "comments": "This is the X-axis of the machine."
         },
         "axis_2": {
            "name": "axis_2",
            "alias": "y",
            "motor_type": "stepper",
            "drive_type": "leadscrew",
            "gearbox": "gearbox_2",
            "range_of_motion": {
               "min": 0,
               "max": 200,
               "enabled": true
            },
            "soft_limits": {
               "min": 10,
               "max": 190,
               "enabled": true
            },
            "homing_direction": "min",
            "homing_speed": 50,
            "limit_switches": {
               "min": "y_min_limit",
               "max": "y_max_limit"
            },
            "comments": "This is the Y-axis of the machine."
         },
         "axis_3": {
            "name": "axis_3",
            "alias": "z",
            "motor_type": "stepper",
            "drive_type": "leadscrew",
            "gearbox": "gearbox_3",
            "range_of_motion": {
               "min": 0,
               "max": 200,
               "enabled": true
            },
            "soft_limits": {
               "min": 10,
               "max": 190,
               "enabled": true
            },
            "homing_direction": "max",
            "homing_speed": 25,
            "limit_switches": {
               "min": "z_min_limit",
               "max": "z_max_limit"
            },
            "comments": "This is the Z-axis of the machine."
         }
      },
      "tooling": {
         "mill": {
            "max_rpm": 10000,
            "hp": 1.25,
            "tool_offsets": {
               "tool_1": {
                  "x": 0.1,
                  "y": 0.2,
                  "z": 0.3
               },
               "tool_2": {
                  "x": 0.2,
                  "y": 0.1,
                  "z": 0.4
               }
            },
            "wear_compensation": {
               "x": 0.05,
               "y": 0.03,
               "z": 0.02
            },
            "commands": {
               "on": {
                  "function": "mill_on()",
                  "comments": "Turns on the mill."
               },
               "off": {
                  "function": "mill_off()",
                  "comments": "Turns off the mill."
               },
               "adjust_speed": {
                  "function": "mill_adjust_speed(rpm)",
                  "parameters": {
                     "rpm": {
                        "type": "number",
                        "min": 0,
                        "max": 10000
                     }
                  },
                  "async": false,
                  "comments": "Adjusts the speed of the mill."
               }
            }
         },
         "laser": {
            "max_power": 50,
            "wavelength": 405,
            "tool_offsets": {
               "laser_1": {
                  "x": 0.1,
                  "y": 0.2,
                  "z": 0
               }
            },
            "commands": {
               "on": {
                  "function": "laser_on()",
                  "comments": "Turns on the laser."
               },
               "off": {
                  "function": "laser_off()",
                  "comments": "Turns off the laser."
               },
               "set_power": {
                  "function": "laser_set_power(power)",
                  "parameters": {
                     "power": {
                        "type": "number",
                        "min": 0,
                        "max": 100
                     }
                  },
                  "async": false,
                  "comments": "Sets the power of the laser."
               }
            }
         },
         "3d_printer": {
            "max_temp": 300,
            "nozzle_diameter": {
               "min": 0.2,
               "max": 1
            },
            "filament_diameter": 1.75,
            "bed_leveling": {
               "enabled": true,
               "grid_size": {
                  "x": 3,
                  "y": 3
               },
               "last_leveled": null,
               "command": {
                  "function": "3d_printer_bed_leveling()"
               }
            },
            "commands": {
               "extrude": {
                  "function": "3d_printer_extrude(length)",
                  "parameters": {
                     "length": {
                        "type": "number",
                        "min": 0,
                        "max": 100
                     }
                  },
                  "async": false,
                  "comments": "Extrudes filament."
               },
               "retract": {
                  "function": "3d_printer_retract(length)",
                  "parameters": {
                     "length": {
                        "type": "number",
                        "min": 0,
                        "max": 100
                     }
                  },
                  "async": false,
                  "comments": "Retracts filament."
               },
               "set_temp": {
                  "function": "3d_printer_set_temp(temp)",
                  "parameters": {
                     "temp": {
                        "type": "number",
                        "min": 180,
                        "max": 300
                     }
                  },
                  "async": true,
                  "comments": "Sets the temperature of the nozzle."
               }
            }
         }
      },
      "sensors": {
         "sensor_1": {
            "alias": "x_min_limit",
            "type": "limit_switch",
            "interface": "digital",
            "pin": "D3",
            "response_frequency": 1000,
            "last_content": 0,
            "last_triggered": null,
            "interpreter_function": null,
            "trigger_actions": [
               {
                  "condition": 1,
                  "function": "stop_axis_x()",
                  "async": true
               }
            ]
         },
         "sensor_2": {
            "alias": "x_max_limit",
            "type": "limit_switch",
            "interface": "digital",
            "pin": "D4",
            "response_frequency": 1000,
            "last_content": 0,
            "last_triggered": null,
            "interpreter_function": null,
            "trigger_actions": [
               {
                  "condition": 1,
                  "function": "stop_axis_x()",
                  "async": true
               }
            ]
         },
         "sensor_3": {
            "alias": "y_min_limit",
            "type": "limit_switch",
            "interface": "digital",
            "pin": "D5",
            "response_frequency": 1000,
            "last_content": 0,
            "last_triggered": null,
            "interpreter_function": null,
            "trigger_actions": [
               {
                  "condition": 1,
                  "function": "stop_axis_y()",
                  "async": true
               }
            ]
         },
         "sensor_4": {
            "alias": "y_max_limit",
            "type": "limit_switch",
            "interface": "digital",
            "pin": "D6",
            "response_frequency": 1000,
            "last_content": 0,
            "last_triggered": null,
            "interpreter_function": null,
            "trigger_actions": [
               {
                  "condition": 1,
                  "function": "stop_axis_y()",
                  "async": true
               }
            ]
         },
         "sensor_5": {
            "alias": "z_min_limit",
            "type": "limit_switch",
            "interface": "digital",
            "pin": "D7",
            "response_frequency": 1000,
            "last_content": 0,
            "last_triggered": null,
            "interpreter_function": null,
            "trigger_actions": [
               {
                  "condition": 1,
                  "function": "stop_axis_z()",
                  "async": true
               }
            ]
         },
         "sensor_6": {
            "alias": "z_max_limit",
            "type": "limit_switch",
            "interface": "digital",
            "pin": "D8",
            "response_frequency": 1000,
            "last_content": 0,
            "last_triggered": null,
            "interpreter_function": null,
            "trigger_actions": [
               {
                  "condition": 1,
                  "function": "stop_axis_z()",
                  "async": true
               }
            ]
         },
         "sensor_7": {
            "alias": "bed_temperature",
            "type": "temperature",
            "interface": "analog",
            "pin": "A0",
            "response_frequency": 1000,
            "last_content": 25.5,
            "last_triggered": null,
            "interpreter_function": "interpret_temperature",
            "trigger_actions": [
               {
                  "condition": "low",
                  "function": "set_bed_temperature(60)",
                  "async": true
               },
               {
                  "condition": "high",
                  "function": "set_bed_temperature(0)",
                  "async": true
               }
            ]
         },
         "sensor_8": {
            "alias": "rgb_sensor",
            "type": "color_sensor",
            "interface": "i2c",
            "address": "0x52",
            "response_frequency": 500,
            "last_content": [
               255,
               0,
               0
            ],
            "last_triggered": null,
            "interpreter_function": "interpret_rgb_values",
            "trigger_actions": [
               {
                  "condition": "red",
                  "function": "run_red_function()",
                  "async": true
               },
               {
                  "condition": "green",
                  "function": "run_green_function()",
                  "async": true
               },
               {
                  "condition": "blue",
                  "function": "run_blue_function()",
                  "async": true
               }
            ]
         },
         "sensor_9": {
            "alias": "torque_sensor_1",
            "type": "torque_sensor",
            "interface": "analog",
            "pin": "A1",
            "response_frequency": 1000,
            "last_content": 0.5,
            "last_triggered": null,
            "interpreter_function": "interpret_torque",
            "trigger_actions": [
               {
                  "condition": "high",
                  "function": "reduce_feedrate()",
                  "async": true
               },
               {
                  "condition": "low",
                  "function": "increase_feedrate()",
                  "async": true
               }
            ]
         },
         "sensor_10": {
            "alias": "current_sensor_1",
            "type": "current_sensor",
            "interface": "analog",
            "pin": "A2",
            "response_frequency": 1000,
            "last_content": 2.5,
            "last_triggered": null,
            "interpreter_function": "interpret_current",
            "trigger_actions": [
               {
                  "condition": "high",
                  "function": "reduce_power()",
                  "async": true
               },
               {
                  "condition": "low",
                  "function": "increase_power()",
                  "async": true
               }
            ]
         },
         "sensor_11": {
            "alias": "encoder_1",
            "type": "encoder",
            "interface": "digital",
            "pin": "D9",
            "response_frequency": 1000,
            "last_content": 1024,
            "last_triggered": null,
            "interpreter_function": "interpret_encoder",
            "trigger_actions": [
               {
                  "condition": "stall",
                  "function": "stop_motor()",
                  "async": true
               }
            ]
         },
         "sensor_12": {
            "alias": "load_cell_1",
            "type": "load_cell",
            "interface": "analog",
            "pin": "A3",
            "response_frequency": 500,
            "last_content": 10.2,
            "last_triggered": null,
            "interpreter_function": "interpret_load_cell",
            "trigger_actions": [
               {
                  "condition": "high",
                  "function": "pause_operation()",
                  "async": true
               }
            ]
         },
         "sensor_13": {
            "alias": "strain_gauge_1",
            "type": "strain_gauge",
            "interface": "analog",
            "pin": "A4",
            "response_frequency": 1000,
            "last_content": 0.001,
            "last_triggered": null,
            "interpreter_function": "interpret_strain_gauge",
            "trigger_actions": [
               {
                  "condition": "high",
                  "function": "adjust_tension()",
                  "async": true
               }
            ]
         },
         "sensor_14": {
            "alias": "back_emf_sensor_1",
            "type": "back_emf_sensor",
            "interface": "analog",
            "pin": "A5",
            "response_frequency": 1000,
            "last_content": 5.2,
            "last_triggered": null,
            "interpreter_function": "interpret_back_emf",
            "trigger_actions": [
               {
                  "condition": "low",
                  "function": "increase_current()",
                  "async": true
               },
               {
                  "condition": "high",
                  "function": "decrease_current()",
                  "async": true
               }
            ]
         }
      },
      "custom_commands": {
         "home_all_axes": {
            "function": "home_all_axes()",
            "async": false,
            "comments": "Homes all axes."
         },
         "set_feedrate": {
            "function": "set_feedrate(feedrate)",
            "parameters": {
               "feedrate": {
                  "type": "number",
                  "min": 10,
                  "max": 1000
               }
            },
            "async": false,
            "comments": "Sets the feedrate."
         }
      },
      "power_on_setup": {
         "enabled": true,
         "homing_sequence": [
            "axis_1",
            "axis_2",
            "axis_3"
         ]
      },
      "user": {
         "timezone": "UTC"
      }
   },
   "attributes": {
      "machine": {
         "accuracy": {
            "linear": 0.01,
            "angular": 0.1
         },
         "repeatability": {
            "linear": 0.005,
            "angular": 0.05
         }
      },
      "axes": {
         "axis_1": {
            "max_speed": 5000,
            "acceleration": 500,
            "step_per_mm": 100,
            "backlash_compensation": 0.02
         },
         "axis_2": {
            "max_speed": 5000,
            "acceleration": 500,
            "step_per_mm": 100,
            "backlash_compensation": 0.02
         },
         "axis_3": {
            "max_speed": 2000,
            "acceleration": 200,
            "step_per_mm": 400,
            "backlash_compensation": 0.01
         }
      },
      "tooling": {
         "mill": {
            "spindle_power": 1.5,
            "spindle_runout": 0.005,
            "tool_holder_type": "ER20",
            "tool_change_time": 5
         },
         "laser": {
            "laser_power": 10,
            "focus_diameter": 0.1,
            "pulse_frequency": 20000,
            "cooling_system": "air"
         },
         "3d_printer": {
            "max_print_speed": 150,
            "max_travel_speed": 200,
            "max_acceleration": 1000,
            "nozzle_size": 0.4
         }
      },
      "gearboxes": {
         "gearbox_1": {
            "type": "planetary",
            "ratio": 5,
            "max_torque": 10,
            "efficiency": 0.9
         },
         "gearbox_2": {
            "type": "spur",
            "ratio": 3,
            "max_torque": 15,
            "efficiency": 0.85
         },
         "gearbox_3": {
            "type": "harmonic",
            "ratio": 10,
            "max_torque": 5,
            "efficiency": 0.95
         }
      }
   }
}
